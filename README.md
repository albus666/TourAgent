# 旅游规划助手 (Tour Planning Assistant)

## 项目简介

旅游规划助手是一个基于智能体开发的旅游咨询服务系统，通过自然语言交互为用户提供智能化的旅游规划服务。系统集成了景点推荐API，能够为用户提供精准的景点信息和推荐服务。

## 主要功能

- 🎯 智能景点推荐
- 📝 景点详情查询
- 💬 自然语言交互
- 🔍 智能意图识别
- 🗣️ 多轮对话支持

## 技术架构

### 核心组件

- **用户交互层**
  - 用户引导模块
  - 自然语言输入处理
  
- **AI对话层**
  - 大语言模型集成
  - 上下文管理
  - 智能意图识别

- **业务服务层**
  - 景点推荐服务 (http://www.atopes.xyz:4397/search)
  - 景点详情服务 (http://www.atopes.xyz:4397/attraction)
  - 响应处理服务

### 技术栈

- 大语言模型：ep-20250213141319-tbks4
- API服务：RESTful架构
- 对话系统：支持多轮对话
- 意图识别：智能分类系统

## 快速开始

### 环境要求

- Python >= 3.8
- Node.js >= 14.0.0
- 支持RESTful API的服务器环境
- 大语言模型API访问权限

### 安装步骤

1. 克隆项目
```bash
git clone [项目地址]
cd tour-planning-assistant
```

2. 安装后端依赖
```bash
pip install -r requirements.txt
```

3. 安装前端依赖
```bash
npm install
```

4. 配置环境变量
```bash
cp .env.example .env
# 编辑.env文件，配置必要的环境变量
```

5. 启动服务
```bash
# 启动后端API服务
python api.py

# 启动前端服务
npm start
```

## API使用说明

### 景点查询API

#### 获取城市景点信息

**请求：**
```bash
curl -X POST "http://localhost:8000/attractions" \
     -H "Content-Type: application/json" \
     -d '{"cityName": "北京"}'
```

**响应：**
```json
{
    "attractionList": [
        {
            "id": "123456",
            "name": "景点名称",
            "address": "景点地址",
            ...
        },
        ...
    ]
}
```

### API文档

启动服务后，可以访问以下地址查看API文档：
- Swagger UI: http://localhost:8000/docs
- ReDoc: http://localhost:8000/redoc

## 使用说明

### 基本使用

1. 启动系统后，用户可以通过自然语言输入旅游相关问题
2. 系统会自动识别用户意图
3. 根据意图类型提供相应的服务：
   - 景点推荐
   - 景点详情查询
   - 其他旅游咨询服务

### 示例对话

```
用户：我想去上海旅游，有什么推荐？
系统：为您推荐以下上海景点：
1. 上海迪士尼乐园
2. 外滩
3. 东方明珠
...

用户：上海迪士尼乐园怎么样？
系统：上海迪士尼乐园位于上海浦东新区，是亚洲最大的迪士尼主题乐园...
```

## 配置说明

### 系统配置

在`config`目录下可以配置以下参数：

- 模型参数
- API接口地址
- 系统提示词
- 对话历史长度

### 自定义配置

1. 修改系统提示词
2. 调整模型参数
3. 配置API接口
4. 自定义响应模板

## 开发指南

### 目录结构

```
tour-planning-assistant/
├── src/
│   ├── modules/        # 核心模块
│   ├── services/       # 业务服务
│   ├── utils/          # 工具函数
│   └── config/         # 配置文件
├── api/                # API服务
│   ├── api.py         # 主程序
│   └── requirements.txt # 依赖文件
├── tests/              # 测试文件
├── docs/               # 文档
└── README.md
```

### 开发规范

1. 遵循模块化开发原则
2. 保持代码注释完整
3. 编写单元测试
4. 遵循Git提交规范

## 注意事项

- 确保网络连接正常
- 城市名称需要准确，建议使用完整的城市名称
- API返回的景点信息来自携程旅游
- 确保API服务可用性
- 注意模型参数调优
- 定期更新系统提示词
- 监控系统响应时间

## 贡献指南

1. Fork 项目
2. 创建特性分支
3. 提交代码
4. 创建Pull Request

## 版本历史

- v1.0.0 (2024-02-13)
  - 初始版本发布
  - 支持基本景点推荐和查询功能
  - 集成景点信息API服务

## 许可证

[MIT License](LICENSE)

## 联系方式

- 项目维护者：[维护者信息]
- 邮箱：[联系邮箱]
- 项目地址：[项目地址]

## 致谢

感谢所有为项目做出贡献的开发者。

---

**注意**：本项目仍在持续开发中，欢迎提出建议和贡献代码。

## 知识库搭建

### 数据准备

#### 数据采集
- **数据源选择**
  - 携程旅游网
  - 马蜂窝
  - 大众点评
  - 其他主流旅游网站

#### 数据采集方式
1. **爬虫技术**
   - 使用Python Scrapy框架
   - 定时任务自动更新
   - 数据增量更新机制
   - 反爬虫策略处理

2. **数据处理**
   - 数据清洗和标准化
   - 景点信息结构化
   - 评论情感分析

#### 数据样例
```
景点信息：
{
    "id": "123456",
    "name": "上海迪士尼乐园",
    "address": "上海市浦东新区川沙新镇",
    "rating": 4.8,
    "reviews": [
        {
            "user": "游客A",
            "content": "非常好玩，设施很新",
            "rating": 5,
            "date": "2024-02-13"
        }
    ]
}
```

### 知识库优化
- 数据压缩和索引优化
- 增量更新机制
- 缓存策略
- 分布式存储

## AI智能体应用编排

### 提示词编排
1. **系统提示词**
   ```python
   system_prompt = """
   你是专业的旅游顾问，擅长：
   1. 景点推荐
   2. 行程规划
   3. 旅游建议
   请用专业、友好的语气回答用户问题。
   """
   ```

2. **意图识别提示词**
   ```python
   intent_prompt = """
   分析用户意图类型：
   1. 景点推荐
   2. 景点详情
   3. 行程规划
   4. 其他咨询
   """
   ```

### 参数设置
- 温度值：0.7（平衡创造性和准确性）
- 最大token：2000
- 对话历史：5轮
- 响应超时：30秒

### 大模型选择
- 模型：ep-20250213141319-tbks4
- 特点：
  - 中文理解能力强
  - 上下文记忆好
  - 响应速度快
  - 成本效益高

### 知识库关联
- 向量数据库：存储景点信息
- 实时更新：定时同步最新数据
- 缓存机制：提高响应速度

### 应用调试
1. **测试用例**
   - 基础功能测试
   - 边界条件测试
   - 压力测试
   - 用户体验测试

2. **性能优化**
   - 响应时间优化
   - 内存使用优化
   - 并发处理优化

## 创新点与商业前景

### 创新点
1. **智能推荐算法**
   - 基于用户画像的个性化推荐
   - 考虑季节、天气等因素
   - 实时更新推荐结果

2. **多模态交互**
   - 文字对话
   - 语音交互
   - 图片识别
   - 视频推荐

3. **智能行程规划**
   - 自动生成最优路线
   - 考虑交通、时间等因素
   - 支持实时调整

### 商业应用前景
1. **旅游行业应用**
   - 旅行社智能客服
   - 景区智能导览
   - 酒店智能预订

2. **个性化服务**
   - 定制化旅游方案
   - 智能行程规划
   - 实时旅游咨询

3. **数据价值**
   - 旅游趋势分析
   - 用户行为分析
   - 市场预测

4. **扩展应用**
   - 智能导游
   - 旅游社交
   - 旅游电商
